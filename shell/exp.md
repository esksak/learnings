## 正規表現
### メタ文字（特殊文字）
#### BREとERE
基本正規表現と拡張正規表現と呼ばれる。

書き方が異なるのは、下記
（BRE/EREの順）
- Grouping  \(\) \n vs () \n
- Single-character duplication  * \{m,n\} vs * + ? {m,n}

EREで使えてBREで使えないのは、「+」、「?」、「|」の3つです。
「+」は「{1,}」、「?」は「{0,1}」に置き換えることができるので、
実際にEREで使えてBREで使えないのは、「|」のみです。
しかも、GNU grepやGNU sedでは、BREであっても「\|」を用いることができるので、ほとんど差はありません。

通常の文字として認識させたい場合に、エスケープが必要な特殊文字
BRE	. [ \     *         ^ $
ERE	. [ \ ( ) * + ? { | ^ $

#### 共通
^：直後に続く正規表現を行または文字列の先頭でのみマッチさせる
　 BREでは正規表現の先頭でのみメタ文字。ブラケット表現の中ではNOTになる。
　 EREはどこでもメタ文字。
$：直前の正規表現を行または文字列の先頭でのみマッチさせる
　 BREでは正規表現の先頭でのみメタ文字。EREはどこでもメタ文字。
[]:ブラケット表現と呼ばれる。間に記述された任意の一文字とマッチする
{n,m}:インターバル表現と呼ばれる。直前に記述された文字の出現回数を指定できる
　　　　n回以上m回未満。EREでは\が必要なし。

##### ワイルドカード
*:任意の文字列
?:任意の一文字
[ set ]:set中の任意の１文字
[ !set ]:set以外の任意の１文字

上記のsetに記述できる内容
- [abc]:a,b,cのいずれか
- [.,:]:ドット、カンマ、コロンのいずれか
- [a-z]:小文字のいずれか
- [!0-9]:数字以外のいずれか１文字
- [0-9!]:数字か！のうちの１文字
- [a-zA-Z0-9_-]小文字、大文字、数字、アンスコ、マイナス記号の中から１文字

#### BREのみ
():間に記述されたパターンをホールドスペースと呼ばれるところに保存できる。
　　 １つのパターン中で９個まで指定可能。¥1のように指定して再利用可能。
　　 たとえば\(ab\).*\1とやると、\1=abなので、ab〜abという文字列を検索する。後方参照という。

ブラケット表現の中ではメタ文字も普通の文字にできる。
ただし、-と］は先頭にかかないと行けない。
両方を指定したいときは］を先頭、-を最後尾にしないといけない。
たとえばこういうこと。[]*.-］例外なので一応覚えといて損はないかも。

#### EREのみ
+：直前で指定された正規表現が１回以上出現
?：直前で指定された正規表現が０回もしくは１回だけ出現
|：OR表現
():括弧内の部分に対してマッチング。

### POSIXでのブラケット表現
文字クラス：［］の中で使う表現。
- ［:alnum:］アルファベットと数字
- ［:alpha:］アルファベット
- ［:blank:］スペースとタブ
- ［:cntrl:］制御文字
- ［:digit:］数字
- ［:graph:］スペース以外の文字
- ［:lower:］アルファベットの小文字
- ［:print:］印字可能文字
- ［:punct:］句読点
- ［:space:］空白文字
- ［:upper:］アルファベットの大文字
- ［:xdigit:］１６進数の文字

たとえば［［:alnum:］！］で！とアルファベットと数字になる。
[ -~]：スペースからチルダで半角全部を刈り取れる

### GNU版ユーティリティで利用できる追加の正規表現
- \w：任意の単語構成文字にマッチ。［［:alnum:］_］と同義
- \W：単語構成文字以外にマッチ。［^［:alnum:］_］と同義
- \<,\>：それぞれ単語の先頭と末尾にマッチ。
    - よく使われるらしい。単語単位でマッチングするらしい
    - use a chopstickと、eat a lambchopという二つの文があったとき、
    - \<chopは前者に、chop\>は後者にマッチする。\<chop\>とやれば両社にマッチ。
- \b：上記を一般化したもの。つまり、\<chop\>と同義。
- \B：？小文字とどう違うか説明なし。
　